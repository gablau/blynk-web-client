{"version":3,"sources":["components/Pages/ProjectPage/Widget/Views/GaugeView/styles.module.scss","components/Pages/ProjectPage/Widget/Views/LevelView/styles.module.scss","components/Pages/ProjectPage/Widget/Views/ButtonView/styles.module.scss","components/Pages/ProjectPage/Widget/styles.module.scss","components/Pages/ProjectPage/Widget/Views/SliderView/styles.module.scss","components/Pages/ProjectPage/Widget/Views/NumericalDisplayView/styles.module.scss","components/Pages/ProjectPage/Widget/Views/EnhancedGraphView/DataStreamsChart/ChartControl/styles.module.scss","redux/modules/settings/actionTypes.js","redux/modules/settings/reducer.js","redux/modules/settings/index.js","redux/modules/blynk/actionTypes.js","utils/data.js","redux/modules/blynk/reducer.js","redux/modules/blynk/index.js","redux/modules/index.js","redux/store.js","utils/immutable.js","common/blynkWSClient.js","utils/connection.js","utils/validation.js","components/Pages/ConnectionPage/GitHubLink/GitHubLink.js","components/Pages/ConnectionPage/ConnectionPage.js","redux/modules/blynk/actions.js","components/Pages/ProjectPage/Widget/WidgetLabel/WidgetLabel.js","redux/selectors.js","components/Pages/ProjectPage/Widget/Views/ButtonView/ButtonView.js","components/Pages/ProjectPage/Widget/Views/SliderView/SliderView.js","utils/color.js","components/Pages/ProjectPage/Widget/Views/NumericalDisplayView/NumericalDisplayView.js","components/Pages/ProjectPage/Widget/Views/UnknownView/UnknownView.js","components/Pages/ProjectPage/Widget/Views/EnhancedGraphView/DataStreamsChart/ChartControl/ChartControl.js","components/Pages/ProjectPage/Widget/Views/EnhancedGraphView/DataStreamsChart/ChartLegend/ChartLegend.js","components/Pages/ProjectPage/Widget/Views/EnhancedGraphView/DataStreamsChart/DataStreamsChart.js","components/Pages/ProjectPage/Widget/Views/EnhancedGraphView/EnhancedGraphView.js","components/Pages/ProjectPage/Widget/Views/RgbView/RgbView.js","components/Pages/ProjectPage/Widget/Views/TwoAxisJoystickView/TwoAxisJoystickView.js","components/Pages/Scrollbar/Scrollbar.js","components/Pages/ProjectPage/Widget/Views/TerminalView/TerminalView.js","components/Pages/ProjectPage/Widget/Views/VerticalSliderView/VerticalSliderView.js","components/Pages/ProjectPage/Widget/Views/LcdDisplayView/LcdDisplayView.js","components/Pages/ProjectPage/Widget/Views/GaugeView/GaugeChart/GaugeChart.js","components/Pages/ProjectPage/Widget/Views/GaugeView/GaugeView.js","components/Pages/ProjectPage/Widget/Views/LevelView/LevelChart/LevelChart.js","components/Pages/ProjectPage/Widget/Views/LevelView/LevelView.js","components/Pages/ProjectPage/Widget/Views/StepView/StepView.js","components/Pages/ProjectPage/Widget/Views/LedView/LedView.js","components/Pages/ProjectPage/Widget/Widget.js","components/Pages/ProjectPage/ProjectPage.js","components/Root/Root.js","index.js","serviceWorker.js","components/Pages/ProjectPage/Widget/Views/EnhancedGraphView/DataStreamsChart/styles.module.scss","components/Pages/ConnectionPage/styles.module.scss","components/Pages/ProjectPage/styles.module.scss","components/Pages/ProjectPage/Widget/Views/EnhancedGraphView/styles.module.scss","components/Pages/ProjectPage/Widget/WidgetLabel/styles.module.scss","components/Pages/ConnectionPage/GitHubLink/styles.module.scss","components/Pages/ProjectPage/Widget/Views/StepView/styles.module.scss","components/Pages/ProjectPage/Widget/Views/GaugeView/GaugeChart/styles.module.scss","components/Pages/ProjectPage/Widget/Views/TwoAxisJoystickView/styles.module.scss","components/Pages/ProjectPage/Widget/Views/EnhancedGraphView/DataStreamsChart/ChartLegend/styles.module.scss","components/Pages/ProjectPage/Widget/Views/LcdDisplayView/styles.module.scss","components/Pages/ProjectPage/Widget/Views/TerminalView/styles.module.scss","components/Pages/ProjectPage/Widget/Views/LevelView/LevelChart/styles.module.scss","components/Pages/ProjectPage/Widget/Views/LedView/styles.module.scss","components/Pages/ProjectPage/Widget/Views/RgbView/styles.module.scss","components/Pages/Scrollbar/styles.module.scss"],"names":["module","exports","loading","chart","widgetLabelContainer","widgetLabel","button","buttonContainer","sizeContainer","root","sliderContainer","value","control","UPDATE_SETTINGS","initialState","Immutable","reducer","state","arguments","length","undefined","action","type","settings","merge","SET_CONNECTION_PARAMS","SET_PROJECT","SET_PIN_VALUE","SET_PIN_HISTORY","SET_TOKEN","getWidgetPinAddress","widget","get","toLowerCase","defaultToken","localStorage","getItem","defaultServerHost","defaultPort","Number","defaultConnectionMode","token","serverHost","serverPort","connectionMode","project","pins","pinsHistory","pinsWriteHistory","set","widgets","processWidgetPin","widgetPinBlock","pin","pinId","map","widgetPins","widgetDataStreams","widgetDataStream","pinWriteHistory","getIn","push","setIn","history","combineReducers","blynk","configureStore","middleware","thunk","composedEnhancers","compose","apply","applyMiddleware","concat","createStore","rootReducer","listToMap","list","keyField","result","forEach","listItem","MsgType","RESPONSE","LOGIN","PING","TWEET","EMAIL","NOTIFY","BRIDGE","HW_SYNC","HW_INFO","HARDWARE","blynkWSClient","isRunning","socket","pingTimer","debugging","handleWSMessage","event","data","ArrayBuffer","bufArray","DataView","getInt8","_this","console","info","messageToDebugString","handleHardwareMessage","buf","slice","String","fromCharCode","Uint8Array","warn","_throttleSendFunctions","throttleSend","throttle","send","bind","Object","assertThisInitialized","_this2","this","_ref","stop","WebSocket","binaryType","onmessage","onopen","start","onclose","onerror","_this3","repeat","delay","firstTimeDelay","skipFirst","close","dataView","cmdString","cmd","getStringByCommandCode","msgId","getUint16","responseCode","statusCode","getStatusByCode","dispatchEvent","CustomEvent","detail","dontSend","pinType","pinNumber","dispatchWritePin","_data$split","split","_data$split2","slicedToArray","readyState","OPEN","commandAndBody","message","createMessage","cmdBody","join","getCommandByString","buildBlynkMessage","bodyLength","setInt8","setInt16","i","offset","charCodeAt","EventTarget","getHttpBlynkUrl","required","GitHubLink","react_default","a","createElement","className","styles","main","href","target","rel","octicon","viewBox","version","aria-hidden","fillRule","d","React","Component","ErrorString","meta","error","touched","InputGroupField","input","props","objectWithoutProperties","Fragment","inputGroup","objectSpread","ConnectionPage_ErrorString","HTMLSelectField","_ref2","htmlSelect","ConnectionPage","_React$Component","_getPrototypeOf2","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","busy","connectionError","handleSubmit","_ref3","asyncToGenerator","regenerator_default","mark","_callee","params","_this$props","setConnectionParams","testConnection","wrap","_context","prev","next","setState","t0","response","text","_x","inherits","createClass","key","_this$state","_this$props2","cn","emptyFiller","react_final_form_es","onSubmit","initialValues","render","_ref4","form","title","formGroup","label","labelFor","name","id","component","validate","fill","options","buttons","disabled","icon","submitButton","intent","Intent","PRIMARY","connectionProblem","GitHubLink_GitHubLink","connect","ownProps","setItem","_callee2","dispatch","getState","_getState$blynk$toObj2","_context2","toObject","request","_x3","_x4","WidgetLabel","information","emptyHide","defaultProps","pinValueSelector","widgetDataStreamsHistorySelector","createCachedSelector","dataStreamsHistory","dataStream","ButtonView","handleMouseDown","sendWritePin","handleMouseUp","WidgetLabel_WidgetLabel","dist_index_esm","width","height","active","onMouseDown","onMouseUp","style","margin","Math","min","renderButtonLabel","SliderView","handleChange","fakeUpdate","handleRelease","vertical","slider","labelRenderer","max","onChange","onRelease","numToCssColor","num","color","convertARGBtoRGBA","alpha","parseColor","NumericalDisplayView","valueStr","isNaN","parseFloat","toFixed","valueFormatting","replace","fontSize","renderValue","UnknownView","ChartControl","handleSelectDuration","e","onChangeDuration","currentTarget","dataset","duration","buttonGroup","minWidth","onClick","data-duration","small","ChartLegend","dataStreams","colorScale","legend","idx","legendItem","legendCell","backgroundColor","DataStreamsChart","originalChartDuration","chartDuration","lastChartTime","controlBlockRef","legendBlockRef","showXAxis","showXAxisMargin","svg","d3","containerRef","append","attr","colors","maxTime","MAX_SAFE_INTEGER","minTime","timeExtent","xScale","yScales","xAxisScale","tipTimeFormat","dragging","redraw","firstDraw","domain","range","Date","dataIdx","yScale","line","x","time","y","chartLine","select","datum","axisOrder","leftAxis","axis","remove","selectAll","chroma","brighten","css","startX","zoom","on","transform","k","transition","drag","clickDistance","diff","timeDiff","selection","tipGroup","tipMouseLine","tipTime","tipTimeRect","tipTimeWidth","dataStreamTip","tipCircle","tipText","els","mouse","node","xDate","invert","each","item","pointIdx","bisect","_ref5","right","handleChangeDuration","ReactDOM","ChartControl_ChartControl","ChartLegend_ChartLegend","drawChart","chartContainer","ref","EnhancedGraphView","historyIsReady","_getHistory","getPinHistory","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","Symbol","iterator","done","return","finish","getHistory","DataStreamsChart_DataStreamsChart","spinner","renderChart","renderLoading","_callee3","_getState$blynk$toObj3","res","processData","_context3","toUpperCase","responseType","sent","Promise","resolve","reject","reader","FileReader","onload","csv","pako","ungzip","to","readAsArrayBuffer","body","_x5","_x6","RgbView","handleChangeColor","pin1Id","pin2Id","pin3Id","rgb","r","g","b","pin1Value","pin2Value","pin3Value","hex","colorPickerContainer","lib_default","opacity","TwoAxisJoystickView","handleStartDrag","handleDrag","deltaX","deltaY","rX","rY","distance","sqrt","floor","handleStop","mainContainer","areaSize","moreSize","stickSize","stickContainer","react_draggable","onStart","onDrag","onStop","stick","left","top","Scrollbar","renderThumb","assign","thumb","scrollRef","react_custom_scrollbars_lib","renderThumbHorizontal","renderThumbVertical","TerminalView","inputValue","lastOwnChange","handleSendInput","handleChangeInput","handleKeyPress","keyCode","which","prevProps","prevState","snapshot","scrollComponent","scrollToBottom","output","historyItem","size","terminalInputOn","outputContainer","Scrollbar_Scrollbar","generateHistoryOutput","placeholder","onKeyPress","rightElement","minimal","VerticalSliderView","_SliderView","LcdDisplayView","pinIdx","value1","value2","RegExp","GaugeChart","radius","arc","cornerRadius","thickness","backLine","innerRadius","outerRadius","startAngle","PI","endAngle","frontLine","minLabel","sin","cos","maxLabel","fillFactor","escape","html","GaugeView","GaugeView_GaugeChart_GaugeChart","LevelChart","flipAxis","LevelView","isVertical","LevelView_LevelChart_LevelChart","StepView","step","isSendStep","isLoopOn","direction","sendRepeatAction","sendValue","_cn","_cn2","defaultLabel","defineProperty","verticalButtonsContainer","buttonsContainer","data-direction","getButtonLabel","dividerHorizontal","dividerVertical","LedView","ledContainer","cx","cy","ledCircle","fillOpacity","WIDGET_VIEW_COMPONENTS","BUTTON","SLIDER","VERTICAL_SLIDER","RGB","TWO_AXIS_JOYSTICK","ENHANCED_GRAPH","DIGIT4_DISPLAY","LABELED_VALUE_DISPLAY","GAUGE","LCD","LEVEL_DISPLAY","VERTICAL_LEVEL_DISPLAY","TERMINAL","STEP","VERTICAL_STEP","LED","Widget","ViewComponent","renderContent","ProjectPage","initWSClient","init","addEventListener","handleWritePin","setPinValue","_e$detail","handleCloseConnection","logout","_getProject","_this$props3","getProject","removeEventListener","_this$props4","then","ProjectPage_Widget_Widget","isDarkTheme","bp3-dark","header","headerInner","headerTitle","workspace","workspaceInner","widgetsArea","renderWidgets","_getState$blynk$toObj","_x2","Root","store","react_redux_es","HashRouter","Route","exact","path","Redirect","FocusStyleManager","onlyShowFocusOnTabs","document","querySelector","Root_Root","navigator","serviceWorker","ready","registration","unregister","form-appear","minMaxLabel"],"mappings":"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","file":"static/js/main.34af9a97.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"styles_loading__1cFvQ\",\"chart\":\"styles_chart__2VlIB\",\"widgetLabelContainer\":\"styles_widgetLabelContainer__ut_ua\",\"widgetLabel\":\"styles_widgetLabel__3C3ca\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"styles_loading__2yRSd\",\"chart\":\"styles_chart__2Ufze\",\"widgetLabelContainer\":\"styles_widgetLabelContainer__37M62\",\"widgetLabel\":\"styles_widgetLabel__2KUi5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"styles_button__19SDI\",\"buttonContainer\":\"styles_buttonContainer__1GVHK\",\"sizeContainer\":\"styles_sizeContainer__kRN0-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__19KCy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sliderContainer\":\"styles_sliderContainer__2xz7H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"value\":\"styles_value__3-ofr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"styles_control__3XxX2\"};","export const UPDATE_SETTINGS = 'app/settings/UPDATE_SETTINGS';\n","import * as Immutable from 'immutable';\nimport { UPDATE_SETTINGS } from './actionTypes';\n\nconst initialState = Immutable.fromJS({});\n\nexport default function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case UPDATE_SETTINGS: {\n            const { settings } = action;\n\n            return state.merge(settings);\n        }\n        default:\n            return state;\n    }\n}\n","import reducer from './reducer';\n\nexport default reducer;\n","export const SET_CONNECTION_PARAMS = 'app/blynk/SET_CONNECTION_PARAMS';\nexport const SET_PROJECT = 'app/blynk/SET_PROJECT';\nexport const SET_PIN_VALUE = 'app/blynk/SET_PIN_VALUE';\nexport const SET_PIN_HISTORY = 'app/blynk/SET_PIN_HISTORY';\nexport const SET_TOKEN = 'app/blynk/SET_TOKEN';\n","export function getWidgetPinAddress(widget) {\n    if (widget.get('pin') === -1) {\n        return -1;\n    }\n    return widget.get('pinType')[0].toLowerCase() + widget.get('pin');\n}\n","import * as Immutable from 'immutable';\nimport { SET_CONNECTION_PARAMS, SET_PROJECT, SET_PIN_VALUE, SET_PIN_HISTORY, SET_TOKEN } from './actionTypes';\nimport { getWidgetPinAddress } from '../../../utils/data';\n\nconst defaultToken = localStorage.getItem('blynk-web-client:token');\nconst defaultServerHost = localStorage.getItem('blynk-web-client:serverHost') || 'blynk-cloud.com';\nconst defaultPort = Number(localStorage.getItem('blynk-web-client:serverPort')) || 8080;\nconst defaultConnectionMode = Number(localStorage.getItem('blynk-web-client:connectionMode')) || 'no-ssl';\n\nconst initialState = Immutable.fromJS({\n    token: defaultToken,\n    serverHost: defaultServerHost,\n    serverPort: defaultPort,\n    connectionMode: defaultConnectionMode,\n\n    project: null,\n    pins: {},\n    pinsHistory: {},\n    pinsWriteHistory: {},\n});\n\nexport default function reducer(state = initialState, action = {}) {\n    switch (action.type) {\n        case SET_CONNECTION_PARAMS: {\n            const { token, serverHost, serverPort, connectionMode } = action;\n            return state\n                .set('token', token)\n                .set('serverHost', serverHost)\n                .set('serverPort', serverPort)\n                .set('connectionMode', connectionMode);\n        }\n        case SET_TOKEN: {\n            const { token } = action;\n            return state.set('token', token);\n        }\n        case SET_PROJECT: {\n            let { project } = action;\n\n            let widgets = project.get('widgets');\n            let pins = state.get('pins');\n\n            const processWidgetPin = widgetPinBlock => {\n                const pin = widgetPinBlock.get('pin', -1);\n                const value = widgetPinBlock.get('value');\n                if (pin !== -1) {\n                    const pinId = getWidgetPinAddress(widgetPinBlock);\n                    widgetPinBlock = widgetPinBlock.set('pinId', pinId);\n\n                    if (value !== undefined) {\n                        pins = pins.set(pinId, value);\n                    }\n                }\n                return widgetPinBlock;\n            };\n\n            // Prepare pin ids and get exist pins values\n            widgets = widgets.map(widget => {\n                widget = processWidgetPin(widget);\n\n                let widgetPins = widget.get('pins');\n                if (widgetPins) {\n                    widgetPins = widgetPins.map(widgetPinBlock => {\n                        return processWidgetPin(widgetPinBlock);\n                    });\n                    widget = widget.set('pins', widgetPins);\n                }\n\n                let widgetDataStreams = widget.get('dataStreams');\n                if (widgetDataStreams) {\n                    widgetDataStreams = widgetDataStreams.map(widgetDataStream => {\n                        return widgetDataStream.set('pin', processWidgetPin(widgetDataStream.get('pin')));\n                    });\n                    widget = widget.set('dataStreams', widgetDataStreams);\n                }\n\n                return widget;\n            });\n\n            project = project.set('widgets', widgets);\n\n            return state.set('project', project).set('pins', pins);\n        }\n        case SET_PIN_VALUE: {\n            const { pin, value } = action;\n\n            // Write value to pinsWriteHistory\n            let pinWriteHistory = state.getIn(['pinsWriteHistory', pin], new Immutable.List());\n            pinWriteHistory = pinWriteHistory.push(value);\n            state = state.setIn(['pinsWriteHistory', pin], pinWriteHistory);\n\n            return state.setIn(['pins', pin], value);\n        }\n        case SET_PIN_HISTORY: {\n            const { pin, history } = action;\n            return state.setIn(['pinsHistory', pin], history);\n        }\n        default:\n            return state;\n    }\n}\n","import reducer from './reducer';\n\nexport default reducer;\n","import { combineReducers } from 'redux';\n\nimport settings from './settings';\nimport blynk from './blynk';\n\nexport default combineReducers({\n    settings,\n    blynk,\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport rootReducer from './modules';\n\nconst configureStore = () => {\n    const initialState = {};\n    const enhancers = [];\n    const middleware = [thunk];\n\n    if (process.env.NODE_ENV !== 'production') {\n        const devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__;\n\n        if (typeof devToolsExtension === 'function') {\n            enhancers.push(devToolsExtension());\n        }\n    }\n\n    const composedEnhancers = compose(\n        applyMiddleware(...middleware),\n        ...enhancers,\n    );\n\n    const store = createStore(rootReducer, initialState, composedEnhancers);\n\n    if (process.env.NODE_ENV !== 'production') {\n        if (module.hot) {\n            module.hot.accept('./modules', () => {\n                store.replaceReducer(rootReducer);\n            });\n        }\n    }\n\n    return store;\n};\n\nexport default configureStore;\n","import * as Immutable from 'immutable';\n\nexport function listToMap(list, keyField = 'id') {\n    let result = new Immutable.Map();\n    list.forEach(listItem => {\n        result = result.set(listItem.get(keyField), listItem);\n    });\n    return result;\n}\n","import repeat from '@avinlab/repeat';\nimport throttle from 'lodash/throttle';\n\nconst MsgType = {\n    RESPONSE: 0,\n    LOGIN: 2,\n    PING: 6,\n    TWEET: 12,\n    EMAIL: 13,\n    NOTIFY: 14,\n    BRIDGE: 15,\n    HW_SYNC: 16,\n    HW_INFO: 17,\n    HARDWARE: 20,\n};\n\n// eslint-disable-next-line no-unused-vars\nconst MsgStatus = {\n    OK: 200,\n    ILLEGAL_COMMAND: 2,\n    NO_ACTIVE_DASHBOARD: 8,\n    INVALID_TOKEN: 9,\n    ILLEGAL_COMMAND_BODY: 11,\n};\n\nfunction getCommandByString(cmdString) {\n    switch (cmdString) {\n        case 'ping':\n            return MsgType.PING;\n        case 'login':\n            return MsgType.LOGIN;\n        case 'hardware':\n            return MsgType.HARDWARE;\n        default:\n    }\n}\n\nfunction getStringByCommandCode(cmd) {\n    switch (cmd) {\n        case 0:\n            return 'RESPONSE';\n        case 20:\n            return 'HARDWARE';\n        default:\n    }\n}\n\n// eslint-disable-next-line no-unused-vars\nfunction getStatusByCode(statusCode) {\n    switch (statusCode) {\n        case 200:\n            return 'OK';\n        case 2:\n            return 'ILLEGAL_COMMAND';\n        case 8:\n            return 'NO_ACTIVE_DASHBOARD';\n        case 9:\n            return 'INVALID_TOKEN';\n        case 11:\n            return 'ILLEGAL_COMMAND_BODY';\n        default:\n    }\n}\n\n/**\n * ArrayBuffer to string\n * @param buf\n * @returns {string}\n */\nfunction ab2str(buf) {\n    return String.fromCharCode.apply(null, new Uint8Array(buf));\n}\n\nclass BlynkWSClient extends EventTarget {\n    isRunning = false; // WS Connection status\n    socket = null; // WS Socket\n    pingTimer = null; // Internal ping timer\n    token = null; // Blynk auth token\n    debugging = false;\n\n    /**\n     * Init Blynk WS connection\n     * @param token\n     * @param serverHost\n     * @param serverPort\n     */\n    init({ token, serverHost, serverPort, connectionMode }) {\n        this.stop();\n        this.token = token;\n\n        this.socket = new WebSocket(\n            `${connectionMode === 'no-ssl' ? 'ws' : 'wss'}://${serverHost}:${serverPort}/websockets`,\n        );\n        this.socket.binaryType = 'arraybuffer';\n\n        this.socket.onmessage = this.handleWSMessage;\n        this.socket.onopen = event => {\n            this.start();\n            this.debugging && console.info('WS: Connected');\n        };\n        this.socket.onclose = event => {\n            this.stop();\n            this.debugging && console.info('WS: Disconnected');\n        };\n        this.socket.onerror = event => {\n            console.warn('WS: Error');\n        };\n    }\n\n    start() {\n        if (this.isRunning) {\n            return;\n        }\n        this.isRunning = true;\n\n        this.send(`login ${this.token}`);\n\n        this.pingTimer = repeat({\n            action: () => {\n                this.send('ping');\n            },\n            delay: 1000 * 2,\n            firstTimeDelay: 1000 * 2,\n            skipFirst: true,\n        });\n        this.pingTimer.start();\n    }\n\n    stop() {\n        if (!this.isRunning) {\n            return;\n        }\n\n        this.isRunning = false;\n        this.pingTimer.stop();\n        this.socket.close();\n    }\n\n    handleWSMessage = event => {\n        if (event.data instanceof ArrayBuffer) {\n            const bufArray = event.data;\n\n            const dataView = new DataView(bufArray);\n            const msgCommand = dataView.getInt8(0);\n\n            switch (msgCommand) {\n                case MsgType.RESPONSE: {\n                    this.debugging && console.info(this.messageToDebugString(bufArray));\n\n                    break;\n                }\n                case MsgType.HARDWARE: {\n                    this.handleHardwareMessage(ab2str(bufArray.slice(5)));\n                    break;\n                }\n                default:\n            }\n        } else {\n            console.warn(`WS: Unexpected type : ${event.data}`);\n        }\n    };\n\n    messageToDebugString(bufArray) {\n        const dataView = new DataView(bufArray);\n        const cmdString = getStringByCommandCode(dataView.getInt8(0));\n        const msgId = dataView.getUint16(1);\n        const responseCode = getStatusByCode(dataView.getUint16(3));\n        return `Command : ${cmdString}, msgId : ${msgId}, responseCode : ${responseCode}`;\n    }\n\n    /**\n     * Send event `write-pin` to subscribers\n     * @param pin\n     * @param value\n     */\n    dispatchWritePin(pin, value) {\n        this.dispatchEvent(\n            new CustomEvent('write-pin', {\n                detail: {\n                    pin: `${pin}`,\n                    value,\n                },\n            }),\n        );\n    }\n\n    /**\n     * Send value to pin\n     * @param pin\n     * @param value\n     * @param dontSend\n     */\n    sendWritePin(pin, value, dontSend = false) {\n        const pinType = pin[0];\n        const pinNumber = pin.slice(1);\n\n        if (!dontSend) {\n            this.throttleSend(pin)(`hardware ${pinType}w ${pinNumber} ${value}`);\n        }\n\n        this.dispatchWritePin(pin, value);\n    }\n\n    _throttleSendFunctions = {};\n    throttleSend = pin => {\n        this._throttleSendFunctions[pin] = this._throttleSendFunctions[pin] || throttle(this.send.bind(this), 100);\n        return this._throttleSendFunctions[pin];\n    };\n\n    handleHardwareMessage(data) {\n        const [type, pin, value] = data.split(String.fromCharCode(0));\n        switch (type) {\n            case 'vw': {\n                // write virtual pin\n                this.dispatchWritePin(`v${pin}`, value);\n                break;\n            }\n            case 'aw': {\n                // write analog pin\n                this.dispatchWritePin(`a${pin}`, value);\n                break;\n            }\n            case 'dw': {\n                // write digital pin\n                this.dispatchWritePin(`d${pin}`, value);\n                break;\n            }\n            default:\n        }\n    }\n\n    send(data) {\n        if (!this.isRunning) {\n            return;\n        }\n        if (this.socket.readyState !== WebSocket.OPEN) {\n            return;\n        }\n\n        const commandAndBody = data.split(' ');\n        const message = this.createMessage(commandAndBody);\n\n        this.debugging && console.info(`WS sending : ${data}`);\n\n        this.socket.send(message);\n    }\n\n    createMessage(commandAndBody) {\n        const cmdString = commandAndBody[0];\n        const cmdBody = commandAndBody.length > 1 ? commandAndBody.slice(1).join('\\0') : null;\n        const cmd = getCommandByString(cmdString);\n        return this.buildBlynkMessage(cmd, 1, cmdBody);\n    }\n\n    buildBlynkMessage(cmd, msgId, cmdBody) {\n        const BLYNK_HEADER_SIZE = 5;\n        const bodyLength = cmdBody ? cmdBody.length : 0;\n        const bufArray = new ArrayBuffer(BLYNK_HEADER_SIZE + bodyLength);\n        const dataView = new DataView(bufArray);\n        dataView.setInt8(0, cmd);\n        dataView.setInt16(1, msgId);\n        dataView.setInt16(3, bodyLength);\n        if (bodyLength > 0) {\n            for (let i = 0, offset = 5; i < cmdBody.length; i += 1, offset += 1) {\n                dataView.setInt8(offset, cmdBody.charCodeAt(i));\n            }\n        }\n        return new Uint8Array(bufArray);\n    }\n}\n\nconst blynkWSClient = new BlynkWSClient();\nexport default blynkWSClient;\n","export function getHttpBlynkUrl({ token, serverHost, serverPort, connectionMode }) {\n    return `${connectionMode === 'no-ssl' ? 'http' : 'https'}://${serverHost}:${serverPort}/${token}`;\n}\n","export const required = value => (value ? undefined : 'Field cannot be empty');\n","/* eslint-disable max-len */\nimport React from 'react';\nimport styles from './styles.module.scss';\n\nexport default class GitHubLink extends React.Component {\n    render() {\n        return (\n            <div className={styles.main}>\n                <a href=\"https://github.com/avin/blynk-web-client\" target=\"_blank\" rel=\"noopener noreferrer\">\n                    <svg className={styles.octicon} viewBox=\"0 0 16 16\" version=\"1.1\" aria-hidden=\"true\">\n                        <path\n                            fillRule=\"evenodd\"\n                            d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\"\n                        />\n                    </svg>\n                </a>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Form, Field } from 'react-final-form';\nimport cn from 'clsx';\nimport { Button, FormGroup, HTMLSelect, InputGroup, Intent } from '@blueprintjs/core';\nimport { setConnectionParams, testConnection } from '../../../redux/modules/blynk/actions';\nimport styles from './styles.module.scss';\nimport { required } from '../../../utils/validation';\nimport GitHubLink from './GitHubLink/GitHubLink';\n\nconst ErrorString = meta => (meta.error && meta.touched ? <div className={styles.error}>{meta.error}</div> : null);\n\nconst InputGroupField = ({ input, meta, ...props }) => (\n    <>\n        <InputGroup {...{ ...input, ...props }} />\n        <ErrorString {...meta} />\n    </>\n);\n\nconst HTMLSelectField = ({ input, meta, ...props }) => <HTMLSelect {...{ ...input, ...props }} />;\n\nexport class ConnectionPage extends React.Component {\n    state = {\n        busy: false,\n        connectionError: null,\n    };\n\n    handleSubmit = async params => {\n        const { setConnectionParams, history, testConnection } = this.props;\n\n        setConnectionParams({\n            token: params.token,\n            serverHost: params.serverHost,\n            serverPort: params.serverPort,\n            connectionMode: params.connectionMode,\n        });\n\n        this.setState({ busy: true });\n        try {\n            await testConnection();\n\n            history.push('project');\n        } catch (e) {\n            const error = e.response ? e.response.text : e.message;\n            this.setState({ busy: false, connectionError: error });\n        }\n    };\n\n    render() {\n        const { busy, connectionError } = this.state;\n        const { token, serverHost, serverPort, connectionMode } = this.props;\n\n        return (\n            <div className={cn('bp3-dark', styles.main)}>\n                <div className={styles.emptyFiller} />\n                <Form\n                    onSubmit={this.handleSubmit}\n                    initialValues={{\n                        token,\n                        serverHost,\n                        serverPort,\n                        connectionMode,\n                    }}\n                    render={({ handleSubmit }) => (\n                        <form onSubmit={handleSubmit} className={cn('bp3-card', styles.form)}>\n                            <div className={styles.title}>Blynk Web-Client</div>\n                            <FormGroup label=\"Auth token\" labelFor=\"token-input\">\n                                <Field name=\"token\" id=\"token-input\" component={InputGroupField} validate={required} />\n                            </FormGroup>\n\n                            <FormGroup label=\"Connection mode\" labelFor=\"connectionMode-input\">\n                                <Field\n                                    name=\"connectionMode\"\n                                    id=\"connectionMode-input\"\n                                    component={HTMLSelectField}\n                                    fill\n                                    options={[{ label: 'No SSL', value: 'no-ssl' }, { label: 'SSL', value: 'ssl' }]}\n                                />\n                            </FormGroup>\n\n                            <FormGroup label=\"Server Host\" labelFor=\"serverHost-input\">\n                                <Field\n                                    name=\"serverHost\"\n                                    id=\"serverHost-input\"\n                                    component={InputGroupField}\n                                    validate={required}\n                                />\n                            </FormGroup>\n\n                            <FormGroup label=\"Server Port\" labelFor=\"serverPort-input\">\n                                <Field\n                                    name=\"serverPort\"\n                                    id=\"serverPort-input\"\n                                    component={InputGroupField}\n                                    validate={required}\n                                />\n                            </FormGroup>\n\n                            <Button\n                                type=\"submit\"\n                                disabled={busy}\n                                icon=\"log-in\"\n                                fill\n                                className={styles.submitButton}\n                                intent={Intent.PRIMARY}\n                            >\n                                {busy ? 'Connecting...' : 'Connect'}\n                            </Button>\n\n                            {connectionError && (\n                                <div className={styles.connectionProblem}>\n                                    Connection to server problem ({connectionError})\n                                </div>\n                            )}\n                        </form>\n                    )}\n                />\n\n                <GitHubLink />\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        token: state.blynk.get('token'),\n        serverHost: state.blynk.get('serverHost'),\n        serverPort: state.blynk.get('serverPort'),\n        connectionMode: state.blynk.get('connectionMode'),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {\n        setConnectionParams,\n        testConnection,\n    },\n)(ConnectionPage);\n","import request from 'superagent';\nimport * as Immutable from 'immutable';\nimport pako from 'pako';\nimport * as d3 from 'd3';\nimport { SET_CONNECTION_PARAMS, SET_PIN_VALUE, SET_PROJECT, SET_PIN_HISTORY, SET_TOKEN } from './actionTypes';\nimport { listToMap } from '../../../utils/immutable';\nimport blynkWSClient from '../../../common/blynkWSClient';\nimport { getHttpBlynkUrl } from '../../../utils/connection';\n\n/**\n * Setup connection options\n * @param token\n * @param serverHost\n * @param serverPort\n * @param connectionMode\n * @returns {{type: string, serverPort: *, serverHost: *, token: *}}\n */\nexport function setConnectionParams({ token, serverHost, serverPort, connectionMode }) {\n    // Save base options to localstorage\n    localStorage.setItem('blynk-web-client:token', token);\n    localStorage.setItem('blynk-web-client:serverHost', serverHost);\n    localStorage.setItem('blynk-web-client:serverPort', serverPort);\n    localStorage.setItem('blynk-web-client:connectionMode', connectionMode);\n\n    return {\n        type: SET_CONNECTION_PARAMS,\n        token,\n        serverHost,\n        serverPort,\n        connectionMode,\n    };\n}\n\nexport function logout() {\n    blynkWSClient.stop();\n    localStorage.setItem('blynk-web-client:token', '');\n\n    return {\n        type: SET_TOKEN,\n        token: '',\n    };\n}\n\n/**\n * Get active blynk project\n * @returns {Function}\n */\nexport function getProject() {\n    return async (dispatch, getState) => {\n        const { token, serverHost, serverPort, connectionMode } = getState().blynk.toObject();\n\n        let { body: project } = await request\n            .get(`${getHttpBlynkUrl({ token, serverHost, serverPort, connectionMode })}/project`)\n            .set('accept', 'json');\n\n        project = Immutable.fromJS(project);\n\n        project = project.set('widgets', listToMap(project.get('widgets'), 'id'));\n\n        dispatch({\n            type: SET_PROJECT,\n            project,\n        });\n    };\n}\n\n/**\n * Test connection with blynk server\n * @returns {Function}\n */\nexport function testConnection() {\n    return async (dispatch, getState) => {\n        const { token, serverHost, serverPort, connectionMode } = getState().blynk.toObject();\n\n        await request\n            .get(`${getHttpBlynkUrl({ token, serverHost, serverPort, connectionMode })}/isAppConnected`)\n            .set('accept', 'json');\n    };\n}\n\n/**\n * Set pin value\n * @param pin - pin label\n * @param value - pin value\n * @returns {{pin: *, type: string, value: *}}\n */\nexport function setPinValue(pin, value) {\n    return {\n        type: SET_PIN_VALUE,\n        pin,\n        value,\n    };\n}\n\nexport function getPinHistory(pin) {\n    return async (dispatch, getState) => {\n        const { token, serverHost, serverPort, connectionMode } = getState().blynk.toObject();\n\n        const res = await request\n            .get(\n                `${getHttpBlynkUrl({\n                    token,\n                    serverHost,\n                    serverPort,\n                    connectionMode,\n                })}/data/${pin.toUpperCase()}`,\n            )\n            .responseType('blob');\n\n        const processData = data =>\n            new Promise((resolve, reject) => {\n                const reader = new FileReader();\n                reader.onload = () => {\n                    const csv = pako.ungzip(reader.result, { to: 'string' });\n                    const history = d3.csvParseRows(csv).map(item => [Number(item[1]), Number(item[0])]);\n                    dispatch({\n                        type: SET_PIN_HISTORY,\n                        pin,\n                        history,\n                    });\n                    resolve();\n                };\n                reader.readAsArrayBuffer(data);\n            });\n        await processData(res.body);\n    };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './styles.module.scss';\n\nexport default class WidgetLabel extends React.Component {\n    static propTypes = {\n        title: PropTypes.node,\n        information: PropTypes.node,\n        emptyHide: PropTypes.bool,\n    };\n\n    static defaultProps = {\n        emptyHide: true,\n    };\n\n    render() {\n        const { title, information, emptyHide } = this.props;\n\n        if (title === undefined && information === undefined && emptyHide) {\n            return <div />;\n        }\n\n        return (\n            <div className={styles.root}>\n                <div className={styles.title}>{title}</div>\n                <div className={styles.information}>{information}</div>\n            </div>\n        );\n    }\n}\n","import createCachedSelector from 're-reselect';\n\nexport const pinValueSelector = (state, pinId) => state.blynk.getIn(['pins', pinId]);\n\nexport const widgetDataStreamsHistorySelector = createCachedSelector(\n    (state, widget) => widget,\n    state => state.blynk.get('pinsHistory'),\n    (widget, pinsHistory) => {\n        const dataStreamsHistory = [];\n        widget.get('dataStreams').forEach(dataStream => {\n            const pinId = dataStream.getIn(['pin', 'pinId']);\n            dataStreamsHistory.push(pinsHistory.get(pinId));\n        });\n\n        return dataStreamsHistory;\n    },\n)((state, widget) => widget.get('id'));\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from '@blueprintjs/core';\nimport SizeMe from '@avinlab/react-size-me';\nimport WidgetLabel from '../../WidgetLabel/WidgetLabel';\nimport styles from './styles.module.scss';\nimport { getWidgetPinAddress } from '../../../../../../utils/data';\nimport blynkWSClient from '../../../../../../common/blynkWSClient';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\n\nexport class ButtonView extends React.Component {\n    renderButtonLabel() {\n        const { widget, value } = this.props;\n\n        if (Number(value)) {\n            return widget.get('onLabel', 'ON');\n        }\n        return widget.get('offLabel', 'OFF');\n    }\n\n    handleMouseDown = () => {\n        const { widget } = this.props;\n\n        const pin = getWidgetPinAddress(widget);\n\n        if (pin !== -1) {\n            blynkWSClient.sendWritePin(pin, 1);\n        }\n    };\n\n    handleMouseUp = () => {\n        const { widget } = this.props;\n\n        const pin = getWidgetPinAddress(widget);\n\n        if (pin !== -1 && widget.get('pushMode')) {\n            blynkWSClient.sendWritePin(pin, 0);\n        }\n    };\n\n    render() {\n        const { widget, value } = this.props;\n\n        return (\n            <>\n                <WidgetLabel title={widget.get('label') || 'Button'} />\n                <div className={styles.buttonContainer}>\n                    <SizeMe className={styles.sizeContainer}>\n                        {({ width, height }) => (\n                            <Button\n                                className={styles.button}\n                                active={!!Number(value)}\n                                onMouseDown={this.handleMouseDown}\n                                onMouseUp={this.handleMouseUp}\n                                style={{\n                                    margin: 2,\n                                    width: Math.min(width, height) - 4,\n                                    height: Math.min(width, height) - 4,\n                                }}\n                            >\n                                {this.renderButtonLabel()}\n                            </Button>\n                        )}\n                    </SizeMe>\n                </div>\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pinId = ownProps.widget.get('pinId');\n    return {\n        value: pinValueSelector(state, pinId),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(ButtonView);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Slider } from '@blueprintjs/core';\nimport blynkWSClient from '../../../../../../common/blynkWSClient';\nimport { getWidgetPinAddress } from '../../../../../../utils/data';\nimport WidgetLabel from '../../WidgetLabel/WidgetLabel';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\nimport styles from './styles.module.scss';\n\nexport class SliderView extends React.Component {\n    handleChange = value => {\n        const { widget } = this.props;\n\n        const pin = getWidgetPinAddress(widget);\n        const fakeUpdate = widget.get('sendOnReleaseOn');\n        blynkWSClient.sendWritePin(pin, value, fakeUpdate);\n    };\n\n    handleRelease = value => {\n        const { widget } = this.props;\n\n        if (widget.get('sendOnReleaseOn')) {\n            const pin = getWidgetPinAddress(widget);\n            blynkWSClient.sendWritePin(pin, value);\n        }\n    };\n\n    render() {\n        const { widget, value, vertical } = this.props;\n\n        return (\n            <>\n                <WidgetLabel title={widget.get('label') || (!vertical && 'Slider')} information={value} />\n                <div className={styles.sliderContainer}>\n                    <Slider\n                        value={Number(value)}\n                        labelRenderer={false}\n                        min={widget.get('min')}\n                        max={widget.get('max')}\n                        onChange={this.handleChange}\n                        onRelease={this.handleRelease}\n                        vertical={vertical}\n                    />\n                </div>\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pinId = ownProps.widget.get('pinId');\n    return {\n        value: pinValueSelector(state, pinId),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(SliderView);\n","export function numToCssColor(num) {\n    const color = parseColor(num);\n    if (color[0] === 0 && color[1] === 0 && color[2] === 0) {\n        return undefined;\n    }\n    return `rgba(${color.join(', ')})`;\n}\n\nfunction convertARGBtoRGBA(color) {\n    const a = (color & 0xff000000) >> 24;\n    const r = (color & 0x00ff0000) >> 16;\n    const g = (color & 0x0000ff00) >> 8;\n    const b = color & 0x000000ff;\n\n    return [r, g, b, a & 0xff];\n}\n\nfunction setAlphaComponent(color, alpha) {\n    return (color & 0x00ffffff) | (alpha << 24);\n}\n\nfunction parseColor(value) {\n    const decodedColor = Number(value);\n    return convertARGBtoRGBA(setAlphaComponent(decodedColor, 255));\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styles from './styles.module.scss';\nimport { numToCssColor } from '../../../../../../utils/color';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\n\nexport class NumericalDisplayView extends React.Component {\n    renderValue() {\n        const { value, widget } = this.props;\n\n        let valueStr;\n        if (isNaN(Number(value))) {\n            valueStr = value;\n        } else {\n            valueStr = parseFloat(Number(value).toFixed(2));\n        }\n\n        const valueFormatting = widget.get('valueFormatting');\n        if (valueFormatting) {\n            valueStr = valueFormatting.replace(/\\/pin\\//gi, valueStr);\n        }\n\n        return <span>{valueStr}</span>;\n    }\n\n    render() {\n        const { widget } = this.props;\n\n        let fontSize;\n        if (widget.get('fontSize') === 'LARGE') {\n            fontSize = `20px`;\n        } else if (widget.get('fontSize') === 'SMALL') {\n            fontSize = `14px`;\n        }\n\n        return (\n            <div>\n                <div className=\"label\">{widget.get('label')}</div>\n                <div className={styles.value} style={{ color: numToCssColor(widget.get('color')), fontSize }}>\n                    {this.renderValue()}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pinId = ownProps.widget.get('pinId');\n    return {\n        value: pinValueSelector(state, pinId),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(NumericalDisplayView);\n","import React from 'react';\n\nexport default class UnknownView extends React.Component {\n    render() {\n        const { widget } = this.props;\n        return (\n            <div>\n                <b>UNKNOWN!</b> {widget.get('type')}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport { Button, ButtonGroup } from '@blueprintjs/core';\nimport styles from './styles.module.scss';\n\nexport default class ChartControl extends React.Component {\n    handleSelectDuration = e => {\n        const { onChangeDuration } = this.props;\n        onChangeDuration(Number(e.currentTarget.dataset.duration));\n    };\n\n    render() {\n        return (\n            <div className={styles.control}>\n                <ButtonGroup style={{ minWidth: 150 }} fill>\n                    {[\n                        ['1h', 3600 * 1000],\n                        ['6h', 3600 * 1000 * 6],\n                        ['12h', 3600 * 1000 * 12],\n                        ['1d', 3600 * 1000 * 24],\n                        ['3d', 3600 * 1000 * 24 * 3],\n                    ].map(([label, duration]) => (\n                        <Button key={label} onClick={this.handleSelectDuration} data-duration={duration} small>\n                            {label}\n                        </Button>\n                    ))}\n                </ButtonGroup>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './styles.module.scss';\n\nexport default class ChartLegend extends React.Component {\n    static propTypes = {\n        colorScale: PropTypes.func,\n        dataStreams: PropTypes.any,\n    };\n\n    render() {\n        const { dataStreams, colorScale } = this.props;\n\n        return (\n            <div className={styles.legend}>\n                {dataStreams.map((dataStream, idx) => (\n                    <div key={idx} className={styles.legendItem}>\n                        <div className={styles.legendCell} style={{ backgroundColor: colorScale(idx) }} />\n                        {dataStream.get('title')}\n                    </div>\n                ))}\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport * as d3 from 'd3';\nimport cn from 'clsx';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport * as Immutable from 'immutable';\nimport chroma from 'chroma-js';\nimport styles from './styles.module.scss';\nimport ChartControl from './ChartControl/ChartControl';\nimport ChartLegend from './ChartLegend/ChartLegend';\n\nexport default class DataStreamsChart extends React.Component {\n    static propTypes = {\n        showXAxis: PropTypes.bool,\n        width: PropTypes.number.isRequired,\n        height: PropTypes.number.isRequired,\n        controlBlockRef: PropTypes.instanceOf(Element),\n        legendBlockRef: PropTypes.instanceOf(Element),\n        dataStreams: PropTypes.oneOfType([PropTypes.instanceOf(Array), PropTypes.instanceOf(Immutable.Iterable)])\n            .isRequired,\n        dataStreamsHistory: PropTypes.oneOfType([PropTypes.instanceOf(Array), PropTypes.instanceOf(Immutable.Iterable)])\n            .isRequired,\n    };\n\n    originalChartDuration = 3600 * 1000 * 6;\n    chartDuration = this.originalChartDuration;\n    lastChartTime = 0;\n\n    drawChart() {\n        const {\n            width,\n            dataStreamsHistory,\n            height,\n            controlBlockRef,\n            legendBlockRef,\n            dataStreams,\n            showXAxis,\n        } = this.props;\n\n        const margin = 3;\n        const tipTimeWidth = 125;\n\n        const showXAxisMargin = showXAxis ? 30 : 23;\n\n        const svg = d3\n            .select(this.containerRef)\n            .append('svg')\n            .attr('width', width)\n            .attr('height', height)\n            .attr('class', styles.svg);\n\n        const chart = svg.append('g').attr('transform', `translate(0,${margin - showXAxisMargin})`);\n\n        const colors = d3.scaleOrdinal(d3.schemeCategory10);\n\n        let maxTime = Number.MAX_SAFE_INTEGER * -1;\n        let minTime = Number.MAX_SAFE_INTEGER;\n\n        dataStreamsHistory.forEach(data => {\n            const timeExtent = d3.extent(data, d => d[0]);\n            minTime = Math.min(timeExtent[0], minTime);\n            maxTime = Math.max(timeExtent[1], maxTime);\n        });\n        this.lastChartTime = maxTime;\n\n        const tipTimeFormat = d3.timeFormat('%Y-%m-%d %H:%M:%S');\n\n        let dragging = false;\n        let xScale;\n        let yScales;\n        let xAxisScale;\n\n        // Draw/redraw chart\n        const redraw = firstDraw => {\n            xScale = d3\n                .scaleLinear()\n                .domain([this.lastChartTime - this.chartDuration, this.lastChartTime])\n                .range([0, width]);\n\n            xAxisScale = d3\n                .scaleTime()\n                .domain([new Date(this.lastChartTime - this.chartDuration), new Date(this.lastChartTime)])\n                .range([0, width]);\n\n            yScales = {};\n\n            // Generate yScales for dataStreams\n            dataStreamsHistory.forEach((data, dataIdx) => {\n                yScales[dataIdx] = d3\n                    .scaleLinear()\n                    .domain(d3.extent(data, d => d[1]))\n                    .range([height - margin, margin + showXAxisMargin]);\n            });\n\n            // Draw lines for dataStreams\n            dataStreamsHistory.forEach((data, dataIdx) => {\n                const yScale = yScales[dataIdx];\n\n                const line = d3\n                    .line()\n                    .x(([time]) => xScale(time))\n                    .y(([time, value]) => yScale(value));\n\n                let path;\n                if (firstDraw) {\n                    path = chart.append('path').attr('class', cn(styles.chartLine, `path${dataIdx}`));\n                } else {\n                    path = chart.select(`.path${dataIdx}`);\n                }\n\n                path.datum(data)\n                    .attr('d', line)\n                    .attr('stroke', colors(dataIdx));\n            });\n\n            // Draw axises for dataStreams\n            let axisOrder = 0;\n            dataStreamsHistory.forEach((data, dataIdx) => {\n                if (!dataStreams.getIn([dataIdx, 'showYAxis'])) {\n                    return;\n                }\n\n                const yScale = yScales[dataIdx];\n\n                const leftAxis = d3.axisLeft(yScale);\n\n                let axis;\n                if (firstDraw) {\n                    axis = chart\n                        .append('g')\n                        .attr('class', cn(styles.leftAxis, `leftAxis${dataIdx}`))\n                        .attr('transform', `translate(${30 + 30 * axisOrder}, 0)`);\n                } else {\n                    axis = chart.select(`.leftAxis${dataIdx}`);\n                }\n\n                axis.call(leftAxis)\n                    .call(axis => axis.select('.domain').remove())\n                    .call(axis => axis.selectAll('line').remove())\n                    .call(axis =>\n                        axis.selectAll('text').attr(\n                            'fill',\n                            chroma(colors(dataIdx))\n                                .brighten(0.8)\n                                .css(),\n                        ),\n                    );\n\n                axisOrder += 1;\n            });\n\n            // Draw time(x) axis\n            if (showXAxis) {\n                let axis;\n                if (firstDraw) {\n                    axis = chart\n                        .append('g')\n                        .attr('class', 'timeAxis')\n                        .attr('transform', `translate(0, ${height + margin})`);\n                } else {\n                    axis = chart.select('.timeAxis');\n                }\n\n                axis.call(d3.axisBottom(xAxisScale));\n            }\n        };\n\n        // Instant run first draw\n        redraw(true);\n\n        // Zoom chart action\n        const zoom = d3.zoom().on('zoom', () => {\n            this.chartDuration = this.originalChartDuration * (1 / d3.event.transform.k);\n\n            chart\n                .select('.tipGroup')\n                .transition()\n                .style('opacity', '0');\n\n            redraw();\n        });\n\n        // Drag chart actions\n        let startX;\n        const drag = d3\n            .drag()\n            .clickDistance(10)\n            .on('start', () => {\n                dragging = true;\n                startX = d3.event.x;\n                chart\n                    .select('.tipGroup')\n                    .transition()\n                    .style('opacity', '0');\n            })\n            .on('end', () => {\n                dragging = false;\n                chart\n                    .select('.tipGroup')\n                    .transition()\n                    .style('opacity', '1');\n            })\n            .on('drag', () => {\n                const diff = d3.event.x - startX;\n\n                if (diff < -10 || diff > 10) {\n                    startX = d3.event.x;\n\n                    const timeDiff = (this.chartDuration / width) * diff;\n\n                    this.lastChartTime -= timeDiff;\n                    this.lastChartTime = Math.min(maxTime + this.chartDuration / 5, this.lastChartTime);\n                    this.lastChartTime = Math.max(minTime + this.chartDuration / 2, this.lastChartTime);\n\n                    redraw();\n                }\n            });\n\n        // Mouse over tooltips\n        const mouseTip = selection => {\n            const tipGroup = chart\n                .append('g')\n                .attr('class', 'tipGroup')\n                .style('opacity', '0');\n\n            tipGroup\n                .append('path') // this is the black vertical line to follow mouse\n                .attr('class', cn('tipMouseLine', styles.tipMouseLine));\n\n            const tipTime = tipGroup.append('g').attr('class', cn('tipTime', styles.tipTime));\n            tipTime\n                .append('rect')\n                .attr('class', cn('tipTimeRect', styles.tipTimeRect))\n                .attr('x', 0)\n                .attr('y', 0)\n                .attr('width', tipTimeWidth)\n                .attr('height', 15);\n\n            tipTime\n                .append('text')\n                .attr('class', 'tipTimeText')\n                .attr('text-anchor', 'middle')\n                .attr('transform', `translate(${tipTimeWidth / 2},12)`);\n\n            dataStreams.forEach((dataStream, idx) => {\n                const dataStreamTip = tipGroup.append('g').attr('class', 'dataStreamTip');\n\n                dataStreamTip\n                    .append('circle')\n                    .attr('class', cn('tipCircle', styles.tipCircle))\n                    .attr('r', 4)\n                    .style('stroke', colors(idx));\n\n                dataStreamTip.append('text').attr('class', cn('tipText', styles.tipText));\n            });\n\n            const showTipGroup = () => {\n                if (!dragging) {\n                    tipGroup.style('opacity', '1');\n                }\n            };\n\n            const hideTipGroup = () => {\n                tipGroup.style('opacity', '0');\n            };\n\n            return selection\n                .on('mouseover', () => {\n                    showTipGroup();\n                })\n                .on('mouseout', () => {\n                    hideTipGroup();\n                })\n                .on('mousemove', function(d, idx, els) {\n                    const mouse = d3.mouse(selection.node());\n                    const xDate = xScale.invert(mouse[0]);\n\n                    // Draw tooltip vertical line\n                    tipGroup\n                        .select(`.tipMouseLine`)\n                        .attr('d', () => d3.line()([[mouse[0], height + margin], [mouse[0], 0]]));\n\n                    svg.select('.tipTime').attr(\n                        'transform',\n                        `translate(${mouse[0] - tipTimeWidth / 2},${height + margin})`,\n                    );\n                    svg.select('.tipTimeText').text(tipTimeFormat(xDate));\n\n                    // Move tooltip on lines\n                    tipGroup.selectAll(`.dataStreamTip`).each((item, idx, els) => {\n                        const bisect = d3.bisector(([date]) => date).right;\n\n                        const pointIdx = bisect(dataStreamsHistory[idx], xDate);\n                        const yScale = yScales[idx];\n\n                        if (dataStreamsHistory[idx][pointIdx]) {\n                            const y = yScale(dataStreamsHistory[idx][pointIdx][1]);\n                            d3.select(els[idx]).attr('transform', `translate(${mouse[0]},${y})`);\n                            const value = parseFloat(Number(dataStreamsHistory[idx][pointIdx][1]).toFixed(1));\n                            d3.select(els[idx])\n                                .select('text')\n                                .text(value);\n                        } else {\n                            d3.select(els[idx]).attr('transform', `translate(-999,-999)`);\n                        }\n                    });\n                });\n        };\n\n        // Apply behavior handlers\n        svg.call(drag)\n            .call(zoom)\n            .call(mouseTip);\n\n        const handleChangeDuration = duration => {\n            this.originalChartDuration = duration;\n            this.chartDuration = duration;\n            svg.call(zoom.transform, d3.zoomIdentity);\n            redraw();\n        };\n\n        // Mount chart controls to ref\n        if (controlBlockRef) {\n            ReactDOM.render(<ChartControl onChangeDuration={handleChangeDuration} />, controlBlockRef);\n        }\n\n        // Mount chart legend to ref\n        if (legendBlockRef) {\n            ReactDOM.render(\n                <ChartLegend onChangeDuration={handleChangeDuration} colorScale={colors} dataStreams={dataStreams} />,\n                legendBlockRef,\n            );\n        }\n    }\n\n    async componentDidMount() {\n        this.drawChart();\n    }\n\n    render() {\n        const { width, height } = this.props;\n\n        return (\n            <div\n                className={styles.chartContainer}\n                style={{ width, height }}\n                ref={i => {\n                    this.containerRef = i;\n                }}\n            />\n        );\n    }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Spinner } from '@blueprintjs/core';\nimport SizeMe from '@avinlab/react-size-me';\nimport { getPinHistory } from '../../../../../../redux/modules/blynk/actions';\nimport { widgetDataStreamsHistorySelector } from '../../../../../../redux/selectors';\nimport styles from './styles.module.scss';\nimport DataStreamsChart from './DataStreamsChart/DataStreamsChart';\nimport WidgetLabel from '../../WidgetLabel/WidgetLabel';\n\nexport class EnhancedGraphView extends React.Component {\n    state = {\n        historyIsReady: false,\n    };\n\n    async getHistory() {\n        const { widget, getPinHistory } = this.props;\n\n        for (const dataStream of widget.get('dataStreams')) {\n            const pinId = dataStream.getIn(['pin', 'pinId']);\n            await getPinHistory(pinId);\n        }\n\n        this.setState({\n            historyIsReady: true,\n        });\n    }\n\n    componentDidMount() {\n        this.getHistory();\n    }\n\n    renderChart() {\n        const { widget, dataStreamsHistory } = this.props;\n\n        const showXAxis = widget.get('xAxisValues');\n\n        return (\n            <div className={styles.chart}>\n                <SizeMe>\n                    {({ width, height }) =>\n                        !!height && (\n                            <DataStreamsChart\n                                dataStreams={widget.get('dataStreams')}\n                                dataStreamsHistory={dataStreamsHistory}\n                                controlBlockRef={this.controlBlockRef}\n                                legendBlockRef={this.legendBlockRef}\n                                showXAxis={showXAxis}\n                                width={width}\n                                height={height}\n                            />\n                        )\n                    }\n                </SizeMe>\n            </div>\n        );\n    }\n\n    renderLoading() {\n        return (\n            <div className={styles.loading}>\n                <Spinner />\n            </div>\n        );\n    }\n\n    render() {\n        const { historyIsReady } = this.state;\n        const { widget } = this.props;\n\n        return (\n            <>\n                <WidgetLabel\n                    title={\n                        <div className={styles.widgetLabelContainer}>\n                            <span className={styles.widgetLabel}>{widget.get('label')}</span>\n                            <div\n                                ref={i => {\n                                    this.legendBlockRef = i;\n                                }}\n                            />\n                        </div>\n                    }\n                    information={\n                        <div\n                            ref={i => {\n                                this.controlBlockRef = i;\n                            }}\n                        />\n                    }\n                    emptyHide={false}\n                />\n                {historyIsReady ? this.renderChart() : this.renderLoading()}\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        dataStreamsHistory: widgetDataStreamsHistorySelector(state, ownProps.widget),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {\n        getPinHistory,\n    },\n)(EnhancedGraphView);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ColorPicker from 'coloreact';\nimport chroma from 'chroma-js';\nimport WidgetLabel from '../../WidgetLabel/WidgetLabel';\nimport styles from './styles.module.scss';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\nimport blynkWSClient from '../../../../../../common/blynkWSClient';\n\nexport class RgbView extends React.Component {\n    handleChangeColor = color => {\n        const { widget } = this.props;\n\n        const pin1Id = widget.getIn(['pins', 0, 'pinId']);\n        const pin2Id = widget.getIn(['pins', 1, 'pinId']);\n        const pin3Id = widget.getIn(['pins', 2, 'pinId']);\n\n        if (pin1Id !== -1) {\n            blynkWSClient.sendWritePin(pin1Id, color.rgb.r);\n        }\n        if (pin2Id !== -1) {\n            blynkWSClient.sendWritePin(pin2Id, color.rgb.g);\n        }\n        if (pin3Id !== -1) {\n            blynkWSClient.sendWritePin(pin3Id, color.rgb.b);\n        }\n    };\n\n    render() {\n        const { widget, pin1Value, pin2Value, pin3Value } = this.props;\n\n        const color = chroma([pin1Value, pin2Value, pin3Value]).hex();\n\n        return (\n            <>\n                <WidgetLabel title={widget.get('label') || 'Zergba'} />\n                <div className={styles.colorPickerContainer}>\n                    <ColorPicker opacity={false} color={color} onChange={this.handleChangeColor} />\n                </div>\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pin1Id = ownProps.widget.getIn(['pins', 0, 'pinId']);\n    const pin2Id = ownProps.widget.getIn(['pins', 1, 'pinId']);\n    const pin3Id = ownProps.widget.getIn(['pins', 2, 'pinId']);\n\n    return {\n        pin1Value: pinValueSelector(state, pin1Id),\n        pin2Value: pinValueSelector(state, pin2Id),\n        pin3Value: pinValueSelector(state, pin3Id),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(RgbView);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport SizeMe from '@avinlab/react-size-me';\nimport { Button, Intent } from '@blueprintjs/core';\nimport { DraggableCore } from 'react-draggable';\nimport WidgetLabel from '../../WidgetLabel/WidgetLabel';\nimport styles from './styles.module.scss';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\nimport blynkWSClient from '../../../../../../common/blynkWSClient';\n\nexport class TwoAxisJoystickView extends React.Component {\n    handleStartDrag = () => {};\n\n    handleDrag = (e, { deltaX, deltaY }) => {\n        const { widget, pin1Value, pin2Value } = this.props;\n\n        const x = ((-512 + Number(pin1Value)) / 512) * this.margin;\n        const y = ((-512 + Number(pin2Value)) / 512) * this.margin * -1;\n\n        let rX = x + deltaX;\n        let rY = y + deltaY;\n\n        rX = Math.max(Math.min(rX, this.margin), -this.margin);\n        rY = Math.max(Math.min(rY, this.margin), -this.margin);\n\n        const distance = Math.sqrt(rX * rX + rY * rY);\n        if (distance > this.margin) {\n            rX *= this.margin / distance;\n            rY *= this.margin / distance;\n        }\n\n        const pin1Id = widget.getIn(['pins', 0, 'pinId']);\n        const pin2Id = widget.getIn(['pins', 1, 'pinId']);\n\n        if (pin1Id !== -1) {\n            blynkWSClient.sendWritePin(pin1Id, Math.floor(512 + (rX / this.margin) * 512));\n        }\n        if (pin2Id !== -1) {\n            blynkWSClient.sendWritePin(pin2Id, Math.floor(512 - (rY / this.margin) * 512));\n        }\n    };\n\n    handleStop = () => {\n        const { widget } = this.props;\n\n        const pin1Id = widget.getIn(['pins', 0, 'pinId']);\n        const pin2Id = widget.getIn(['pins', 1, 'pinId']);\n\n        if (pin1Id !== -1) {\n            blynkWSClient.sendWritePin(pin1Id, 512);\n        }\n        if (pin2Id !== -1) {\n            blynkWSClient.sendWritePin(pin2Id, 512);\n        }\n    };\n\n    render() {\n        const { widget, pin1Value, pin2Value } = this.props;\n\n        return (\n            <>\n                <WidgetLabel\n                    title={widget.get('label') || 'Joystick'}\n                    information={\n                        <div>\n                            {pin1Value}\n                            <br />\n                            {pin2Value}\n                        </div>\n                    }\n                />\n                <div className={styles.mainContainer}>\n                    <SizeMe className={styles.sizeContainer}>\n                        {({ width, height }) => {\n                            const moreSize = 20;\n                            const areaSize = Math.min(width, height) - moreSize * 2;\n                            const stickSize = areaSize / 2;\n                            const margin = stickSize / 2;\n\n                            this.margin = margin;\n\n                            const x = ((-512 + Number(pin1Value)) / 512) * this.margin;\n                            const y = ((-512 + Number(pin2Value)) / 512) * this.margin * -1;\n\n                            return (\n                                <div\n                                    className={styles.stickContainer}\n                                    style={{ width: areaSize, height: areaSize, margin: moreSize }}\n                                >\n                                    <DraggableCore\n                                        onStart={this.handleStartDrag}\n                                        onDrag={this.handleDrag}\n                                        onStop={this.handleStop}\n                                    >\n                                        <Button\n                                            intent={Intent.PRIMARY}\n                                            className={styles.stick}\n                                            style={{\n                                                width: stickSize + moreSize * 2,\n                                                height: stickSize + moreSize * 2,\n                                                left: margin - moreSize,\n                                                top: margin - moreSize,\n                                                transform: `translate(${x}px, ${y}px)`,\n                                            }}\n                                        />\n                                    </DraggableCore>\n                                </div>\n                            );\n                        }}\n                    </SizeMe>\n                </div>\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pin1Id = ownProps.widget.getIn(['pins', 0, 'pinId']);\n    const pin2Id = ownProps.widget.getIn(['pins', 1, 'pinId']);\n\n    return {\n        pin1Value: pinValueSelector(state, pin1Id),\n        pin2Value: pinValueSelector(state, pin2Id),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(TwoAxisJoystickView);\n","import React, { Component } from 'react';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport cn from 'clsx';\nimport styles from './styles.module.scss';\n\nexport default class Scrollbar extends Component {\n    static defaultProps = {\n        scrollRef: () => {},\n    };\n\n    renderThumb = ({ className, style, ...props }) => {\n        return <div className={cn(className, styles.thumb)} {...props} />;\n    };\n\n    render() {\n        const { scrollRef, ...props } = this.props;\n\n        return (\n            <Scrollbars\n                renderThumbHorizontal={this.renderThumb}\n                renderThumbVertical={this.renderThumb}\n                ref={i => scrollRef(i)}\n                {...props}\n            />\n        );\n    }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button, InputGroup } from '@blueprintjs/core';\nimport cn from 'clsx';\nimport SizeMe from '@avinlab/react-size-me';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\nimport styles from './styles.module.scss';\nimport Scrollbar from '../../../../Scrollbar/Scrollbar';\nimport { getWidgetPinAddress } from '../../../../../../utils/data';\nimport blynkWSClient from '../../../../../../common/blynkWSClient';\n\nexport class TerminalView extends React.Component {\n    state = {\n        inputValue: '',\n    };\n\n    lastOwnChange = false;\n\n    handleSendInput = () => {\n        const { widget } = this.props;\n        const { inputValue } = this.state;\n\n        const pin = getWidgetPinAddress(widget);\n        if (pin !== -1) {\n            this.lastOwnChange = true;\n            blynkWSClient.sendWritePin(pin, inputValue);\n        }\n\n        this.setState({ inputValue: '' });\n    };\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.pinWriteHistory !== this.props.pinWriteHistory) {\n            if (this.props.widget.get('autoScrollOn')) {\n                this.scrollComponent.scrollToBottom();\n            }\n        }\n    }\n\n    handleChangeInput = e => {\n        const inputValue = e.currentTarget.value;\n        this.setState({ inputValue });\n    };\n\n    handleKeyPress = e => {\n        const keyCode = e.keyCode ? e.keyCode : e.which;\n        if (keyCode === 13) {\n            this.handleSendInput();\n\n            return false;\n        }\n    };\n\n    generateHistoryOutput() {\n        const { pinWriteHistory, widget } = this.props;\n        let output = '';\n        if (pinWriteHistory) {\n            pinWriteHistory.forEach((historyItem, idx) => {\n                if (this.lastOwnChange && idx === pinWriteHistory.size - 1) {\n                    output += '> ';\n                    this.lastOwnChange = false;\n                }\n                output += historyItem;\n                if (widget.get('attachNewLine')) {\n                    output += '\\r\\n';\n                }\n            });\n        }\n        return output;\n    }\n\n    render() {\n        const { widget } = this.props;\n        const { inputValue } = this.state;\n        const terminalInputOn = widget.get('terminalInputOn');\n\n        return (\n            <>\n                <div className={styles.outputContainer}>\n                    <SizeMe>\n                        {({ width, height }) => (\n                            <Scrollbar\n                                style={{ height, width }}\n                                scrollRef={i => {\n                                    this.scrollComponent = i;\n                                }}\n                            >\n                                <pre className={cn('bp3-code-block', styles.output)}>\n                                    {this.generateHistoryOutput()}\n                                </pre>\n                            </Scrollbar>\n                        )}\n                    </SizeMe>\n                </div>\n                {terminalInputOn && (\n                    <InputGroup\n                        placeholder=\"Type here\"\n                        value={inputValue}\n                        onChange={this.handleChangeInput}\n                        onKeyPress={this.handleKeyPress}\n                        rightElement={<Button icon=\"key-enter\" minimal={true} onClick={this.handleSendInput} />}\n                    />\n                )}\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pinId = ownProps.widget.get('pinId');\n\n    return {\n        value: pinValueSelector(state, pinId),\n        pinWriteHistory: state.blynk.getIn(['pinsWriteHistory', pinId]),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(TerminalView);\n","import { connect } from 'react-redux';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\n\nimport { SliderView } from '../SliderView/SliderView';\n\nexport class VerticalSliderView extends SliderView {\n    static defaultProps = {\n        vertical: true,\n    };\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pinId = ownProps.widget.get('pinId');\n    return {\n        value: pinValueSelector(state, pinId),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(VerticalSliderView);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styles from './styles.module.scss';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\n\nexport class LcdDisplayView extends React.Component {\n    renderValue(pinIdx) {\n        const { value1, value2, widget } = this.props;\n\n        const value = pinIdx === 1 ? value1 : value2;\n\n        let valueStr;\n        if (isNaN(Number(value))) {\n            valueStr = value;\n        } else {\n            valueStr = parseFloat(Number(value).toFixed(2));\n        }\n\n        const valueFormatting = widget.get(`textFormatLine${pinIdx}`);\n        if (valueFormatting) {\n            valueStr = valueFormatting.replace(new RegExp(`/pin${pinIdx - 1}/`, 'gi'), valueStr);\n        }\n\n        return <span>{valueStr}</span>;\n    }\n\n    render() {\n        return (\n            <div>\n                <div className={styles.value}>\n                    <div className={styles.line}>{this.renderValue(1)}</div>\n                    <div className={styles.line}>{this.renderValue(2)}</div>\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pin1Id = ownProps.widget.getIn(['pins', 0, 'pinId']);\n    const pin2Id = ownProps.widget.getIn(['pins', 1, 'pinId']);\n    return {\n        value1: pinValueSelector(state, pin1Id),\n        value2: pinValueSelector(state, pin2Id),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(LcdDisplayView);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as d3 from 'd3';\nimport cn from 'clsx';\nimport escape from 'lodash/escape';\nimport styles from './styles.module.scss';\n\nexport class GaugeChart extends React.Component {\n    static propTypes = {\n        min: PropTypes.number.isRequired,\n        max: PropTypes.number.isRequired,\n        value: PropTypes.number.isRequired,\n        width: PropTypes.number.isRequired,\n        height: PropTypes.number.isRequired,\n    };\n\n    renderChart() {\n        const { width, height, min, max } = this.props;\n\n        const svg = d3\n            .select(this.containerRef)\n            .append('svg')\n            .attr('width', width)\n            .attr('height', height);\n\n        const chart = svg.append('g').attr('transform', `translate(${width / 2}, ${height / 1.5})`);\n\n        const radius = Math.min(width, height) / 1.5;\n        const thickness = 20;\n\n        const arc = d3.arc().cornerRadius(thickness / 2);\n\n        chart\n            .append('path')\n            .attr('class', cn('backLine', styles.backLine))\n            .attr(\n                'd',\n                arc({\n                    innerRadius: radius - thickness,\n                    outerRadius: radius,\n                    startAngle: -Math.PI / 1.5,\n                    endAngle: Math.PI / 1.5,\n                }),\n            );\n        chart.append('path').attr('class', cn('frontLine', styles.frontLine));\n        chart\n            .append('foreignObject')\n            .attr('width', radius)\n            .attr('height', 50)\n            .attr('x', -radius / 2)\n            .attr('y', -25)\n            .append('xhtml:div')\n            .attr('class', cn('value', styles.value));\n\n        chart\n            .append('text')\n            .attr('class', cn('minLabel', styles.minLabel))\n            .attr('x', radius * Math.sin(-Math.PI / 1.5) + thickness)\n            .attr('y', radius * Math.cos(-Math.PI / 1.5) * -1 - 5)\n            .text(min);\n        chart\n            .append('text')\n            .attr('class', cn('maxLabel', styles.maxLabel))\n            .attr('x', radius * Math.sin(Math.PI / 1.5) - thickness)\n            .attr('y', radius * Math.cos(Math.PI / 1.5) * -1 - 5)\n            .text(max);\n\n        this.redraw = () => {\n            const { min, max, value, valueFormatting } = this.props;\n            const fillFactor = value / (max - min);\n\n            chart\n                .select('.frontLine')\n                .attr('opacity', fillFactor ? 1 : 0)\n                .attr(\n                    'd',\n                    arc({\n                        innerRadius: radius - thickness,\n                        outerRadius: radius,\n                        startAngle: -Math.PI / 1.5,\n                        endAngle: Math.PI / 1.5 - Math.PI * (1.33 * (1 - fillFactor)),\n                    }),\n                );\n\n            let valueStr;\n            if (valueFormatting) {\n                valueStr = valueFormatting.replace(/\\/pin\\//, `<span class=\"pinValue\">${escape(value)}</span>`);\n            } else {\n                valueStr = `<span class=\"pinValue\">${escape(value)}</span>`;\n            }\n            chart.select('.value').html(valueStr);\n        };\n        this.redraw();\n    }\n\n    componentDidMount() {\n        this.renderChart();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        this.redraw && this.redraw();\n    }\n\n    render() {\n        return (\n            <div\n                ref={i => {\n                    this.containerRef = i;\n                }}\n            />\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    return {};\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(GaugeChart);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport SizeMe from '@avinlab/react-size-me';\nimport styles from './styles.module.scss';\nimport WidgetLabel from '../../WidgetLabel/WidgetLabel';\nimport GaugeChart from './GaugeChart/GaugeChart';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\n\nexport class GaugeView extends React.Component {\n    render() {\n        const { widget, value } = this.props;\n\n        return (\n            <>\n                <WidgetLabel title={widget.get('label') || 'Gauge'} />\n                <div className={styles.chart}>\n                    <SizeMe>\n                        {({ width, height }) =>\n                            !!height && (\n                                <GaugeChart\n                                    width={width}\n                                    height={height}\n                                    min={widget.get('min')}\n                                    max={widget.get('max')}\n                                    value={Number(value)}\n                                    valueFormatting={widget.get('valueFormatting')}\n                                />\n                            )\n                        }\n                    </SizeMe>\n                </div>\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pinId = ownProps.widget.get('pinId');\n    return {\n        value: pinValueSelector(state, pinId),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(GaugeView);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as d3 from 'd3';\nimport cn from 'clsx';\nimport styles from './styles.module.scss';\n\nexport class LevelChart extends React.Component {\n    static propTypes = {\n        min: PropTypes.number.isRequired,\n        max: PropTypes.number.isRequired,\n        value: PropTypes.number.isRequired,\n        width: PropTypes.number.isRequired,\n        height: PropTypes.number.isRequired,\n        vertical: PropTypes.bool,\n        flipAxis: PropTypes.bool,\n    };\n\n    renderChart() {\n        const { width, height } = this.props;\n\n        const svg = d3\n            .select(this.containerRef)\n            .append('svg')\n            .attr('width', width)\n            .attr('height', height);\n\n        const chart = svg.append('g');\n\n        chart\n            .append('rect')\n            .attr('class', cn('backLine', styles.backLine))\n            .attr('x', 0)\n            .attr('y', 0)\n            .attr('rx', 3)\n            .attr('ry', 3)\n            .attr('width', width)\n            .attr('height', height);\n        chart\n            .append('rect')\n            .attr('class', cn('frontLine', styles.frontLine))\n            .attr('rx', 3)\n            .attr('ry', 3)\n            .attr('x', 0)\n            .attr('y', 0);\n\n        this.redraw = () => {\n            const { min, max, value, height, width, vertical, flipAxis } = this.props;\n            const fillFactor = value / (max - min);\n\n            const frontLine = chart.select('.frontLine').attr('opacity', fillFactor ? 1 : 0);\n\n            if (vertical) {\n                frontLine.attr('height', Math.max(fillFactor * height, 0)).attr('width', width);\n                if (!flipAxis) {\n                    frontLine.attr('y', Math.max(height - fillFactor * height, 0));\n                }\n            } else {\n                frontLine.attr('width', Math.max(fillFactor * width, 0)).attr('height', height);\n                if (flipAxis) {\n                    frontLine.attr('x', Math.max(width - fillFactor * width, 0));\n                }\n            }\n        };\n        this.redraw();\n    }\n\n    componentDidMount() {\n        this.renderChart();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        this.redraw && this.redraw();\n    }\n\n    render() {\n        return (\n            <div\n                ref={i => {\n                    this.containerRef = i;\n                }}\n            />\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    return {};\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(LevelChart);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport SizeMe from '@avinlab/react-size-me';\nimport styles from './styles.module.scss';\nimport WidgetLabel from '../../WidgetLabel/WidgetLabel';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\nimport LevelChart from './LevelChart/LevelChart';\n\nexport class LevelView extends React.Component {\n    render() {\n        const { widget, value } = this.props;\n        const isVertical = widget.get('type') === 'VERTICAL_LEVEL_DISPLAY';\n\n        return (\n            <>\n                <WidgetLabel title={widget.get('label') || (isVertical ? '' : 'Gauge')} information={value} />\n                <div className={styles.chart}>\n                    <SizeMe>\n                        {({ width, height }) =>\n                            !!height && (\n                                <LevelChart\n                                    width={width}\n                                    height={height}\n                                    min={widget.get('min')}\n                                    max={widget.get('max')}\n                                    value={Number(value)}\n                                    valueFormatting={widget.get('valueFormatting')}\n                                    vertical={isVertical}\n                                    flipAxis={widget.get('isAxisFlipOn')}\n                                />\n                            )\n                        }\n                    </SizeMe>\n                </div>\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pinId = ownProps.widget.get('pinId');\n    return {\n        value: pinValueSelector(state, pinId),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(LevelView);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from '@blueprintjs/core';\nimport cn from 'clsx';\nimport repeat from '@avinlab/repeat';\nimport WidgetLabel from '../../WidgetLabel/WidgetLabel';\nimport styles from './styles.module.scss';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\nimport blynkWSClient from '../../../../../../common/blynkWSClient';\nimport { getWidgetPinAddress } from '../../../../../../utils/data';\n\nexport class StepView extends React.Component {\n    getButtonLabel(direction) {\n        const { widget } = this.props;\n\n        if (!widget.get('isArrowsOn')) {\n            if (direction === -1) {\n                return '';\n            }\n            return '';\n        }\n\n        if (direction === -1) {\n            return '-';\n        }\n        return '+';\n    }\n\n    handleMouseDown = e => {\n        const { widget } = this.props;\n        const step = widget.get('step');\n        const isSendStep = widget.get('isSendStep');\n        const isLoopOn = widget.get('isLoopOn');\n        const max = widget.get('max');\n        const min = widget.get('min');\n\n        const pin = getWidgetPinAddress(widget);\n\n        const direction = Number(e.currentTarget.dataset.direction);\n\n        this.sendRepeatAction = repeat({\n            action: () => {\n                const value = Number(this.props.value) || 0;\n\n                let sendValue;\n                if (isSendStep) {\n                    sendValue = step * direction;\n                } else {\n                    sendValue = value + step * direction;\n\n                    if (sendValue > max) {\n                        if (isLoopOn) {\n                            sendValue = min;\n                        } else {\n                            sendValue = max;\n                        }\n                    } else if (sendValue < min) {\n                        if (isLoopOn) {\n                            sendValue = max;\n                        } else {\n                            sendValue = min;\n                        }\n                    }\n                }\n\n                if (pin !== -1) {\n                    blynkWSClient.sendWritePin(pin, sendValue);\n                }\n            },\n            delay: 80,\n            firstTimeDelay: 400,\n            skipFirst: false,\n        });\n        this.sendRepeatAction.start();\n    };\n\n    handleMouseUp = e => {\n        if (this.sendRepeatAction) {\n            this.sendRepeatAction.stop();\n        }\n    };\n\n    render() {\n        const { widget, value } = this.props;\n\n        const isVertical = widget.get('type') === 'VERTICAL_STEP';\n\n        const defaultLabel = isVertical ? 'Step V' : 'Step H';\n\n        return (\n            <>\n                <WidgetLabel title={widget.get('label') || defaultLabel} information={value} />\n                <div\n                    className={cn({\n                        [styles.verticalButtonsContainer]: isVertical,\n                        [styles.buttonsContainer]: !isVertical,\n                    })}\n                >\n                    <Button\n                        minimal\n                        small\n                        className={styles.button}\n                        data-direction={isVertical ? 1 : -1}\n                        onMouseDown={this.handleMouseDown}\n                        onMouseUp={this.handleMouseUp}\n                    >\n                        {this.getButtonLabel(isVertical ? 1 : -1)}\n                    </Button>\n                    <div\n                        className={cn({\n                            [styles.dividerHorizontal]: isVertical,\n                            [styles.dividerVertical]: !isVertical,\n                        })}\n                    />\n                    <Button\n                        minimal\n                        small\n                        className={styles.button}\n                        data-direction={isVertical ? -1 : 1}\n                        onMouseDown={this.handleMouseDown}\n                        onMouseUp={this.handleMouseUp}\n                    >\n                        {this.getButtonLabel(isVertical ? -1 : 1)}\n                    </Button>\n                </div>\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pinId = ownProps.widget.get('pinId');\n    return {\n        value: pinValueSelector(state, pinId),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(StepView);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport WidgetLabel from '../../WidgetLabel/WidgetLabel';\nimport styles from './styles.module.scss';\nimport { pinValueSelector } from '../../../../../../redux/selectors';\n\nexport class LedView extends React.Component {\n    render() {\n        const { widget, value } = this.props;\n\n        return (\n            <>\n                <WidgetLabel title={widget.get('label') || 'Led'} />\n                <div className={styles.ledContainer}>\n                    <svg width={24} height={24}>\n                        <circle r={10} cx={12} cy={12} className={styles.ledCircle} fillOpacity={value / 255} />\n                    </svg>\n                </div>\n            </>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    const pinId = ownProps.widget.get('pinId');\n    return {\n        value: pinValueSelector(state, pinId),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(LedView);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport styles from './styles.module.scss';\nimport ButtonView from './Views/ButtonView/ButtonView';\nimport SliderView from './Views/SliderView/SliderView';\nimport NumericalDisplayView from './Views/NumericalDisplayView/NumericalDisplayView';\nimport UnknownView from './Views/UnknownView/UnknownView';\nimport EnhancedGraphView from './Views/EnhancedGraphView/EnhancedGraphView';\nimport RgbView from './Views/RgbView/RgbView';\nimport TwoAxisJoystickView from './Views/TwoAxisJoystickView/TwoAxisJoystickView';\nimport TerminalView from './Views/TerminalView/TerminalView';\nimport VerticalSliderView from './Views/VerticalSliderView/VerticalSliderView';\nimport LcdDisplayView from './Views/LcdDisplayView/LcdDisplayView';\nimport GaugeView from './Views/GaugeView/GaugeView';\nimport LevelView from './Views/LevelView/LevelView';\nimport StepView from './Views/StepView/StepView';\nimport LedView from './Views/LedView/LedView';\n\nconst WIDGET_VIEW_COMPONENTS = {\n    BUTTON: ButtonView,\n    SLIDER: SliderView,\n    VERTICAL_SLIDER: VerticalSliderView,\n    RGB: RgbView,\n    TWO_AXIS_JOYSTICK: TwoAxisJoystickView,\n    ENHANCED_GRAPH: EnhancedGraphView,\n    DIGIT4_DISPLAY: NumericalDisplayView,\n    LABELED_VALUE_DISPLAY: NumericalDisplayView,\n    GAUGE: GaugeView,\n    LCD: LcdDisplayView,\n    LEVEL_DISPLAY: LevelView,\n    VERTICAL_LEVEL_DISPLAY: LevelView,\n    TERMINAL: TerminalView,\n    STEP: StepView,\n    VERTICAL_STEP: StepView,\n    LED: LedView,\n};\n\nexport class Widget extends React.Component {\n    renderContent() {\n        const { widget } = this.props;\n        const ViewComponent = WIDGET_VIEW_COMPONENTS[widget.get('type')] || UnknownView;\n        return <ViewComponent widget={widget} />;\n    }\n\n    render() {\n        const { widget } = this.props;\n\n        const sizeHeightFactor = 60;\n        const sizeWidthFactor = 70;\n        const margin = 1;\n\n        return (\n            <div\n                className={styles.root}\n                style={{\n                    left: widget.get('x') * sizeWidthFactor,\n                    top: widget.get('y') * sizeHeightFactor,\n                    width: widget.get('width') * sizeWidthFactor - margin,\n                    height: widget.get('height') * sizeHeightFactor - margin,\n                }}\n            >\n                {this.renderContent()}\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    return {};\n}\n\nexport default connect(\n    mapStateToProps,\n    {},\n)(Widget);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport cn from 'clsx';\nimport { Button } from '@blueprintjs/core';\nimport SizeMe from '@avinlab/react-size-me';\nimport { getProject, logout, setPinValue } from '../../../redux/modules/blynk/actions';\nimport styles from './styles.module.scss';\nimport Widget from './Widget/Widget';\nimport blynkWSClient from '../../../common/blynkWSClient';\nimport Scrollbar from '../Scrollbar/Scrollbar';\n\nexport class ProjectPage extends React.Component {\n    async getProject() {\n        const { project, getProject, history } = this.props;\n        if (!project) {\n            try {\n                await getProject();\n            } catch (e) {\n                history.push('/connection');\n            }\n        }\n    }\n\n    initWSClient = () => {\n        const { token, serverHost, serverPort, connectionMode } = this.props;\n\n        // Connect to blynk ws server\n        blynkWSClient.init({\n            token,\n            serverHost,\n            serverPort,\n            connectionMode,\n        });\n\n        blynkWSClient.addEventListener('write-pin', this.handleWritePin);\n    };\n\n    componentWillUnmount() {\n        blynkWSClient.removeEventListener('write-pin', this.handleWritePin);\n    }\n\n    handleWritePin = e => {\n        const { setPinValue } = this.props;\n        const { pin, value } = e.detail;\n\n        setPinValue(pin, value);\n    };\n\n    componentDidMount() {\n        const { token, history } = this.props;\n        if (!token) {\n            return history.push('/connection');\n        }\n        this.getProject().then(this.initWSClient);\n    }\n\n    renderWidgets() {\n        const { project } = this.props;\n\n        const widgets = [];\n        project.get('widgets').map(widget => widgets.push(<Widget key={widget.get('id')} widget={widget} />));\n        return widgets;\n    }\n\n    handleCloseConnection = () => {\n        const { history, logout } = this.props;\n        logout();\n        history.push('/connection');\n    };\n\n    render() {\n        const { project } = this.props;\n\n        if (!project) {\n            return <div />;\n        }\n\n        const isDarkTheme = project.get('theme') === 'Blynk' || true;\n\n        return (\n            <div className={cn(styles.root, { 'bp3-dark': isDarkTheme })}>\n                <div className={styles.header}>\n                    <div className={styles.headerInner}>\n                        <div className={styles.headerTitle}>{project.get('name')}</div>\n                        <div>\n                            <Button icon=\"log-out\" onClick={this.handleCloseConnection} />\n                        </div>\n                    </div>\n                </div>\n                <div className={styles.workspace}>\n                    <SizeMe>\n                        {({ width, height }) => {\n                            return (\n                                <Scrollbar style={{ height, width }}>\n                                    <div className={styles.workspaceInner}>\n                                        <div className={styles.widgetsArea}>{this.renderWidgets()}</div>\n                                    </div>\n                                </Scrollbar>\n                            );\n                        }}\n                    </SizeMe>\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        token: state.blynk.get('token'),\n        serverHost: state.blynk.get('serverHost'),\n        serverPort: state.blynk.get('serverPort'),\n        connectionMode: state.blynk.get('connectionMode'),\n\n        project: state.blynk.get('project'),\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    {\n        getProject,\n        setPinValue,\n        logout,\n    },\n)(ProjectPage);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router, Route, Redirect } from 'react-router-dom';\nimport ConnectionPage from '../Pages/ConnectionPage/ConnectionPage';\nimport ProjectPage from '../Pages/ProjectPage/ProjectPage';\n\nexport default class Root extends React.Component {\n    render() {\n        const { store } = this.props;\n        return (\n            <Provider store={store}>\n                <Router>\n                    <>\n                        <Route exact path=\"/\" render={() => <Redirect to=\"/project\" />} />\n                        <Route exact path=\"/connection\" component={ConnectionPage} />\n                        <Route exact path=\"/project\" component={ProjectPage} />\n                    </>\n                </Router>\n            </Provider>\n        );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { FocusStyleManager } from '@blueprintjs/core';\nimport configureStore from './redux/store';\nimport Root from './components/Root/Root';\nimport './styles/index.scss';\nimport * as serviceWorker from './serviceWorker';\n\nFocusStyleManager.onlyShowFocusOnTabs();\n\n// Init redux-store\nconst store = configureStore();\n\n// Mount React container\nconst target = document.querySelector('#root');\nReactDOM.render(<Root store={store} />, target);\n\nif (module.hot) {\n    module.hot.accept('./components/Root/Root', () => {\n        ReactDOM.render(<Root store={store} />, target);\n    });\n}\n\nserviceWorker.unregister();\n","export function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chartContainer\":\"styles_chartContainer__3DJ_6\",\"svg\":\"styles_svg__1vC5p\",\"chartLine\":\"styles_chartLine__1CifI\",\"leftAxis\":\"styles_leftAxis__1kjRa\",\"tipMouseLine\":\"styles_tipMouseLine__Na0tn\",\"tipCircle\":\"styles_tipCircle__jjV2E\",\"tipText\":\"styles_tipText__wU1vI\",\"tipTime\":\"styles_tipTime__1dcaF\",\"tipTimeRect\":\"styles_tipTimeRect__12TEN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"styles_main__3scRY\",\"emptyFiller\":\"styles_emptyFiller__2DgnJ\",\"form\":\"styles_form__2Hy5B\",\"form-appear\":\"styles_form-appear__25GrX\",\"title\":\"styles_title__13IrG\",\"error\":\"styles_error__pdPhD\",\"connectionProblem\":\"styles_connectionProblem__3lBrk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__gqiwA\",\"workspace\":\"styles_workspace__37uq_\",\"workspaceInner\":\"styles_workspaceInner__BWWnv\",\"header\":\"styles_header__Bux46\",\"headerInner\":\"styles_headerInner__AfvU2\",\"headerTitle\":\"styles_headerTitle__3pbBo\",\"widgetsArea\":\"styles_widgetsArea__1W9v4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"styles_loading__38qYN\",\"chart\":\"styles_chart__2sh6N\",\"widgetLabelContainer\":\"styles_widgetLabelContainer__319Rw\",\"widgetLabel\":\"styles_widgetLabel__3n0kd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__2NhjS\",\"title\":\"styles_title__1_T56\",\"information\":\"styles_information__2hWOG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"styles_main__3wnYp\",\"octicon\":\"styles_octicon__BDyek\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonsContainer\":\"styles_buttonsContainer__22lNr\",\"verticalButtonsContainer\":\"styles_verticalButtonsContainer__3LUsw\",\"dividerVertical\":\"styles_dividerVertical__2il0m\",\"dividerHorizontal\":\"styles_dividerHorizontal__28Bgx\",\"button\":\"styles_button__3Ha7_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backLine\":\"styles_backLine__3SIN8\",\"frontLine\":\"styles_frontLine__Wjakw\",\"value\":\"styles_value__1CjlU\",\"minMaxLabel\":\"styles_minMaxLabel__20qmx\",\"minLabel\":\"styles_minLabel__1_Ev6\",\"maxLabel\":\"styles_maxLabel__J4ocL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stickContainer\":\"styles_stickContainer__eSqQx\",\"sizeContainer\":\"styles_sizeContainer__wUCpz\",\"mainContainer\":\"styles_mainContainer__14Tlp\",\"stick\":\"styles_stick__1y1-B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"legend\":\"styles_legend__2hHxs\",\"legendItem\":\"styles_legendItem__2iL-a\",\"legendCell\":\"styles_legendCell__2C2mN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"value\":\"styles_value__wMD90\",\"line\":\"styles_line__3UCuF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outputContainer\":\"styles_outputContainer__28JKI\",\"output\":\"styles_output__2ix2I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backLine\":\"styles_backLine__1xSXc\",\"frontLine\":\"styles_frontLine__3OA0g\",\"value\":\"styles_value__3nn_V\",\"minMaxLabel\":\"styles_minMaxLabel__13l5f\",\"minLabel\":\"styles_minLabel__3fApU\",\"maxLabel\":\"styles_maxLabel__e_gml\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ledContainer\":\"styles_ledContainer__1YeRe\",\"ledCircle\":\"styles_ledCircle__1hB4Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorPickerContainer\":\"styles_colorPickerContainer__2B8Y2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"thumb\":\"styles_thumb__1PYEZ\"};"],"sourceRoot":""}